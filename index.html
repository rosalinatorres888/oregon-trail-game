<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Oregon Trail - Mr. Narbe's Classroom Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            width: 100%;
            max-width: 1000px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            text-align: center;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .header .wagon-emoji {
            font-size: 4em;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.8em;
            color: #FFD700;
            margin-bottom: 10px;
        }

        .content {
            padding: 40px;
            min-height: 500px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .title-screen {
            text-align: center;
        }

        .intro-text {
            font-size: 1.2em;
            line-height: 1.8;
            color: #333;
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .name-input {
            margin: 30px 0;
        }

        .name-input label {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
            display: block;
            margin-bottom: 10px;
        }

        .name-input input {
            width: 100%;
            max-width: 400px;
            padding: 12px;
            font-size: 1em;
            border: 2px solid #667eea;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .name-input input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
            border-color: #764ba2;
        }

        button {
            background: linear-gradient(135deg, #FF6B6B, #FF8E53);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(-1px);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #764ba2;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .location-display {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.3em;
            font-weight: bold;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 30px;
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4ECDC4, #44A08D);
            height: 100%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .event-box {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #FF6B6B;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .event-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #FF6B6B;
            margin-bottom: 15px;
        }

        .event-text {
            font-size: 1.1em;
            color: #333;
            line-height: 1.8;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .choice-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: 2px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            text-align: left;
        }

        .choice-btn:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
            border-color: #FF8E53;
            transform: translateX(10px);
            box-shadow: 0 0 20px rgba(255, 139, 83, 0.5);
        }

        .end-screen {
            text-align: center;
        }

        .end-title {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
        }

        .end-emoji {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .end-stats {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            text-align: left;
            font-size: 1.1em;
            line-height: 2;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .death-message {
            color: #FF6B6B;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div class="wagon-emoji">üöê</div>
            <h1>THE OREGON TRAIL</h1>
            <div class="subtitle">üë®‚Äçüè´ Mr. Narbe's Classroom Edition üë®‚Äçüè´</div>
        </div>

        <div class="content">
            <!-- TITLE SCREEN -->
            <div class="screen active" id="titleScreen">
                <div class="title-screen">
                    <div class="intro-text">
                        <p><strong>You are a 19th century pioneer bound for the Oregon Territory, 2000 miles away.</strong></p>
                        <p>You have a team of oxen and limited supplies. The well-being of your party depends on your decisions and luck.</p>
                        <p><strong>Do you have what it takes to survive the Oregon Trail?</strong></p>
                    </div>

                    <div class="name-input">
                        <label>What is your name?</label>
                        <input type="text" id="playerName" placeholder="Enter your name" value="Narbe's Student">
                    </div>

                    <button onclick="game.startGame()">BEGIN JOURNEY</button>
                </div>
            </div>

            <!-- GAME SCREEN -->
            <div class="screen" id="gameScreen">
                <div class="location-display" id="locationName">Independence, Missouri</div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;">
                        <span id="progressText">0</span>/2000 Miles
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label">üì¶ Food</div>
                        <div class="stat-value"><span id="food">2000</span> lbs</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">üí∞ Money</div>
                        <div class="stat-value">$<span id="money">1600</span></div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">üê¥ Oxen</div>
                        <div class="stat-value"><span id="oxen">4</span></div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">‚ù§Ô∏è Health</div>
                        <div class="stat-value"><span id="health">100</span>%</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">üìÖ Date</div>
                        <div class="stat-value" style="font-size: 1.2em;"><span id="date">March 1847</span></div>
                    </div>
                </div>

                <div class="event-box">
                    <div class="event-title" id="eventTitle"></div>
                    <div class="event-text" id="eventText"></div>
                </div>

                <div class="choices" id="choices"></div>
            </div>

            <!-- END SCREEN -->
            <div class="screen" id="endScreen">
                <div class="end-screen">
                    <div class="end-emoji" id="endEmoji"></div>
                    <div class="end-title" id="endTitle"></div>
                    <div id="deathMessage" class="death-message"></div>
                    <div class="end-stats" id="endStats"></div>
                    <button onclick="location.reload()">PLAY AGAIN</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const game = {
            playerName: '',
            distance: 0,
            food: 2000,
            money: 1600,
            oxen: 4,
            health: 100,
            date: { month: 3, year: 1847 },
            daysSpent: 0,
            totalDistance: 2000,
            currentLocation: 0,
            gameActive: false,
            inEvent: false,

            locations: [
                { name: 'üöê Independence, Missouri', distance: 0 },
                { name: 'üè∞ Fort Kearny, Nebraska', distance: 300 },
                { name: 'üóª Chimney Rock, Nebraska', distance: 420 },
                { name: 'üè∞ Fort Laramie, Wyoming', distance: 645 },
                { name: 'üè∞ Fort Hall, Idaho', distance: 1197 },
                { name: 'üå™Ô∏è The Dalles, Oregon', distance: 1665 },
                { name: 'üå≤ Willamette Valley, Oregon', distance: 2000 }
            ],

            events: [
                {
                    name: 'illness',
                    chance: 0.15,
                    title: 'ü§í Someone Has Dysentery!',
                    text: `A party member has dysentery - a serious intestinal disease.\nWhat do you do?`,
                    choices: [
                        { text: '‚úì Rest for 3 days (-3 days, -$10 medicine, +20 health)', action: () => {
                            game.daysSpent += 3;
                            game.money -= 10;
                            game.health = Math.min(100, game.health + 20);
                            game.continueTrail();
                        }},
                        { text: '‚úó Keep moving (risky!)', action: () => {
                            if (Math.random() < 0.4) {
                                game.showEvent('üíÄ DEATH!', `A party member died of dysentery.\n\nOh no!`, [
                                    { text: 'CONTINUE', action: () => {
                                        game.health -= 40;
                                        game.continueTrail();
                                    }}
                                ]);
                            } else {
                                game.health -= 15;
                                game.continueTrail();
                            }
                        }}
                    ]
                },
                {
                    name: 'hunt',
                    chance: 0.2,
                    title: 'üéØ Buffalo Herd!',
                    text: `You see a buffalo herd!\nYour hunters can try to shoot for meat.`,
                    choices: [
                        { text: '‚úì Hunt for buffalo (+500 food)', action: () => {
                            game.food += 500;
                            game.continueTrail();
                        }},
                        { text: '‚úó Skip hunting (save time)', action: () => {
                            game.continueTrail();
                        }}
                    ]
                },
                {
                    name: 'river',
                    chance: 0.18,
                    title: '‚õàÔ∏è River Crossing!',
                    text: `A wide river blocks your path.\nThe current is strong and dangerous.`,
                    choices: [
                        { text: '‚úì Ford across (-100 food, risky)', action: () => {
                            if (Math.random() < 0.6) {
                                game.food -= 100;
                                game.continueTrail();
                            } else {
                                game.showEvent('üíÄ DISASTER!', `The wagon overturned in the river!\nYou lost supplies and an ox!`, [
                                    { text: 'CONTINUE', action: () => {
                                        game.food -= 300;
                                        game.oxen -= 1;
                                        game.continueTrail();
                                    }}
                                ]);
                            }
                        }},
                        { text: '‚úì Caulk wagon and float (+2 days, safer)', action: () => {
                            game.daysSpent += 2;
                            game.continueTrail();
                        }}
                    ]
                },
                {
                    name: 'bandits',
                    chance: 0.1,
                    title: 'üè¥‚Äç‚ò†Ô∏è Rough Strangers Approaching!',
                    text: `Rough-looking travelers approach your camp!\nThey might rob you.`,
                    choices: [
                        { text: '‚úó Stand and fight (risky)', action: () => {
                            if (Math.random() < 0.5) {
                                game.showEvent('üíÄ AMBUSHED!', `The bandits overwhelmed your party!\nYou lost $400 and supplies!`, [
                                    { text: 'CONTINUE', action: () => {
                                        game.money -= 400;
                                        game.food -= 200;
                                        game.continueTrail();
                                    }}
                                ]);
                            } else {
                                game.continueTrail();
                            }
                        }},
                        { text: '‚úì Trade with them (-$100, +200 food)', action: () => {
                            game.money -= 100;
                            game.food += 200;
                            game.continueTrail();
                        }}
                    ]
                },
                {
                    name: 'oxen_dies',
                    chance: 0.12,
                    title: 'üê¥ Oxen Died!',
                    text: `One of your oxen has died from exhaustion.\nYour wagon will move slower now.`,
                    choices: [
                        { text: 'CONTINUE', action: () => {
                            game.oxen -= 1;
                            game.continueTrail();
                        }}
                    ]
                },
                {
                    name: 'weather',
                    chance: 0.08,
                    title: 'üå™Ô∏è Severe Weather!',
                    text: `A terrible storm blocks the trail.\nYou lose a day of travel.`,
                    choices: [
                        { text: 'CONTINUE', action: () => {
                            game.daysSpent += 1;
                            game.continueTrail();
                        }}
                    ]
                }
            ],

            startGame() {
                this.playerName = document.getElementById('playerName').value || 'Traveler';
                document.getElementById('titleScreen').classList.remove('active');
                document.getElementById('gameScreen').classList.add('active');
                this.gameActive = true;
                this.updateDisplay();
                this.advanceTrail();
            },

            advanceTrail() {
                if (this.distance >= this.totalDistance) {
                    this.endGame(true);
                    return;
                }

                if (this.food <= 0 || this.health <= 0 || this.oxen <= 0) {
                    this.endGame(false);
                    return;
                }

                // Trigger random events
                for (let event of this.events) {
                    if (Math.random() < event.chance) {
                        this.showEvent(event.title, event.text, event.choices);
                        return;
                    }
                }

                // No event, continue trail
                this.continueTrail();
            },

            continueTrail() {
                // Travel
                this.distance += 20;
                this.daysSpent += 1;
                this.food -= 5 + (this.oxen * 0.5);
                this.health -= 0.5;

                this.updateDisplay();

                // Check for new location
                let newLocation = 0;
                for (let i = 0; i < this.locations.length; i++) {
                    if (this.distance >= this.locations[i].distance) {
                        newLocation = i;
                    }
                }

                if (newLocation !== this.currentLocation) {
                    this.currentLocation = newLocation;
                    this.showEvent(`‚ú® NEW LOCATION`, `You've arrived at ${this.locations[newLocation].name}!`, [
                        { text: 'CONTINUE', action: () => this.advanceTrail() }
                    ]);
                    return;
                }

                setTimeout(() => this.advanceTrail(), 1500);
            },

            showEvent(title, text, choices) {
                this.inEvent = true;
                document.getElementById('eventTitle').textContent = title;
                document.getElementById('eventText').textContent = text;
                const choicesDiv = document.getElementById('choices');
                choicesDiv.innerHTML = '';
                
                choices.forEach(choice => {
                    const btn = document.createElement('button');
                    btn.className = 'choice-btn';
                    btn.textContent = choice.text;
                    btn.onclick = choice.action;
                    choicesDiv.appendChild(btn);
                });
            },

            updateDisplay() {
                document.getElementById('locationName').textContent = this.locations[this.currentLocation].name;
                document.getElementById('distance').textContent = Math.floor(this.distance);
                document.getElementById('progressText').textContent = Math.floor(this.distance);
                document.getElementById('progressFill').style.width = (this.distance / this.totalDistance * 100) + '%';
                document.getElementById('food').textContent = Math.max(0, Math.floor(this.food));
                document.getElementById('money').textContent = Math.floor(this.money);
                document.getElementById('oxen').textContent = Math.max(0, this.oxen);
                document.getElementById('health').textContent = Math.max(0, Math.floor(this.health));
                
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                const month = ((this.date.month - 1 + Math.floor(this.daysSpent / 30)) % 12) + 1;
                document.getElementById('date').textContent = monthNames[month - 1] + ' ' + this.date.year;
            },

            endGame(success) {
                this.gameActive = false;
                document.getElementById('gameScreen').classList.remove('active');
                document.getElementById('endScreen').classList.add('active');

                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                const month = monthNames[((this.date.month - 1 + Math.floor(this.daysSpent / 30)) % 12)];

                if (success) {
                    document.getElementById('endEmoji').textContent = 'üéâ';
                    document.getElementById('endTitle').textContent = `${this.playerName}, you reached Oregon!`;
                    document.getElementById('endStats').innerHTML = `
                        <strong>üéä SUCCESS! üéä</strong><br><br>
                        Your party made it 2000 miles in ${this.daysSpent} days!<br><br>
                        <strong>Final Supplies:</strong><br>
                        ‚Ä¢ Food: ${Math.floor(this.food)} lbs<br>
                        ‚Ä¢ Money: $${Math.floor(this.money)}<br>
                        ‚Ä¢ Oxen: ${this.oxen}<br><br>
                        <strong>Arrival:</strong> ${month}<br><br>
                        Congratulations! You survived the Oregon Trail!
                    `;
                } else {
                    document.getElementById('endEmoji').textContent = 'üíÄ';
                    document.getElementById('endTitle').textContent = `${this.playerName}'s journey ended...`;
                    
                    let cause = 'starvation';
                    if (this.health <= 0) cause = 'illness';
                    if (this.oxen <= 0) cause = 'inability to move (no oxen)';
                    
                    document.getElementById('deathMessage').textContent = `Your party died of ${cause}.`;
                    document.getElementById('endStats').innerHTML = `
                        <strong>üíÄ GAME OVER üíÄ</strong><br><br>
                        Distance traveled: ${Math.floor(this.distance)} miles<br>
                        Days on trail: ${this.daysSpent}<br>
                        Food remaining: ${Math.floor(this.food)} lbs<br>
                        Health: ${Math.floor(this.health)}%<br><br>
                        Your grave rests on the Oregon Trail...
                    `;
                }
            }
        };
    </script>
</body>
</html>